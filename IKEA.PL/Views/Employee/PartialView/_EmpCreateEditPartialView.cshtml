@model EmployeeViewModel
@inject IDepartmentService _departmentService

@{
    // Await the async service call to get departments
    var departmentsList = await _departmentService.GetAllDepartmentsAsync();

    var departments = new SelectList(
        departmentsList,
        "Id",
        "Name"
    );
}

<div class="row">
    @* Name and Photo *@
    <div class="form-group mb-3 col-6">
        <label class="form-label" asp-for="Name"></label>
        <input asp-for="Name" class="form-control" placeholder="Enter full name" />
        <span asp-validation-for="Name" class="text-danger"></span>
    </div>

    <div class="form-group mb-3 col-6">
        <label class="form-label" asp-for="Photo"></label>
        <input asp-for="Photo" class="form-control" type="file" /> @* Ensure type="file" for uploads *@
        <span asp-validation-for="Photo" class="text-danger"></span>
    </div>

    @* Email and Address *@
    <div class="form-group mb-3 col-6">
        <label class="form-label" asp-for="Email"></label>
        <input asp-for="Email" class="form-control" />
        <span asp-validation-for="Email" class="text-danger"></span>
    </div>

    <div class="form-group mb-3 col-6">
        <label class="form-label" asp-for="Address"></label>
        <input asp-for="Address" class="form-control" />
        <span asp-validation-for="Address" class="text-danger"></span>
    </div>

    @* Phone and Age *@
    <div class="form-group mb-3 col-6">
        <label class="form-label" asp-for="PhoneNumber"></label>
        <input asp-for="PhoneNumber" class="form-control" />
        <span asp-validation-for="PhoneNumber" class="text-danger"></span>
    </div>

    <div class="form-group mb-3 col-6">
        <label class="form-label" asp-for="Age"></label>
        <input asp-for="Age" class="form-control" />
        <span asp-validation-for="Age" class="text-danger"></span>
    </div>

    @* Hiring Date and Salary *@
    <div class="form-group mb-3 col-6">
        <label class="form-label" asp-for="HiringDate"></label>
        <input type="date" asp-for="HiringDate" class="form-control" />
        <span asp-validation-for="HiringDate" class="text-danger"></span>
    </div>

    <div class="form-group mb-3 col-6">
        <label class="form-label" asp-for="Salary"></label>
        <input asp-for="Salary" class="form-control" />
        <span asp-validation-for="Salary" class="text-danger"></span>
    </div>

    @* Department Dropdown *@
    <div class="form-group mb-3 col-6">
        <label asp-for="DepartmentId" class="form-label"></label>
        <select asp-for="DepartmentId" asp-items="departments" class="form-select">
            <option value="">-- Select Department --</option>
        </select>
        <span asp-validation-for="DepartmentId" class="text-danger"></span>
    </div>

    @* Employee Type Enum *@
    <div class="form-group mb-3 col-6">
        <label asp-for="EmployeeType" class="form-label"></label>
        <select asp-for="EmployeeType"
                asp-items="Html.GetEnumSelectList<EmployeeType>()"
                class="form-select">
            <option value="">-- Select Employee Type --</option>
        </select>
        <span asp-validation-for="EmployeeType" class="text-danger"></span>
    </div>

    @* Is Active *@
    <div class="form-group mb-3 col-6 d-flex align-items-center">
        <div class="form-check">
            <input asp-for="IsActive" class="form-check-input" />
            <label class="form-check-label" asp-for="IsActive"></label>
        </div>
    </div>

    @* Gender Radio Buttons *@
    <div class="form-group mb-3 col-6">
        <label class="form-label" asp-for="Gender"></label>
        <div>
            @foreach (var genderValue in Enum.GetValues<Gender>())
            {
                <div class="form-check form-check-inline">
                    <input class="form-check-input" asp-for="Gender" type="radio" value="@genderValue" id="gender_@genderValue" />
                    <label class="form-check-label" for="gender_@genderValue">@genderValue</label>
                </div>
            }
        </div>
        <span asp-validation-for="Gender" class="text-danger"></span>
    </div>
</div>